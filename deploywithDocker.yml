---
- hosts: 54.242.94.177
  become: yes
  vars:
    build_number: '{{ BUILD_NUMBER }}'
  tasks:
      
    - name: Login to JFrog
  shell: |
    echo "{{ jfrog_password }}" | docker login -u "{{ jfrog_username }}" --password-stdin pratikshahost.jfrog.io
  environment:
    jfrog_username: "pratikshasinghshs@gmail.com"
    jfrog_password: "Pratiksha@shs"
  
    
    - name: pull an image
      shell: docker pull pratikshahost.jfrog.io/docker-trial/appa:{{ BUILD_NUMBER }}

    - name: remove container
      shell: docker rm -f devopsAppDeploy
        
    - name: create a application container
      shell: docker run -id --name devopsAppDeploy -p 8111:8080 pratikshahost.jfrog.io//appa/frontend/test-managment:{{ BUILD_NUMBER }}
 
   
